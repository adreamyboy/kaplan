Ext.namespace('K.kreports.grpwthsum');Ext.define('K.kreports.grpwthsum.aD',{extend:'Ext.data.Model',fields:FieldsArray});K.kreports.grpwthsum.store=new Ext.data.Store({id:'store',model:K.kreports.grpwthsum.aD,proxy:{actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},type:'ajax',url:'index.php?module=KReports&action=load_report&to_pdf=true&grouping=off&evalsqlfunctions=no',extraParams:{requester:document.getElementById('recordid').value,limit:500,start:0},reader:{type:'json',root:'records',totalProperty:'count'}}});K.kreports.grpwthsum.grid=new Ext.grid.Panel({id:'detailViewGrid',id:'kReporterPresentation',store:K.kreports.grpwthsum.store,title:bi('LBL_STANDARDGRIDPANELTITLE'),columns:ColumnsArray,columnLines:false,monitorResize:true,minHeight:400,features:[{ftype:groupPlugin}],viewConfig:{listeners:{itemcontextmenu:function(view,record,item,index,e){if(K.kreports.pdrilldown){K.kreports.pdrilldown.displayContextMenu(record,e);}}}},renderPresentation:function(){if(listOptions.groupedViewProperties!=undefined&&listOptions.groupedViewProperties.groupById!=undefined)K.kreports.grpwthsum.store.group(listOptions.groupedViewProperties.groupById);this.render('reportGrid');var position=this.getPosition();this.setHeight(Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight))-100-position[1]);K.kreports.grpwthsum.store.load();},reloadPresentation:function(whereConditions){K.kreports.grpwthsum.store.removeAll();K.kreports.grpwthsum.store.getProxy().extraParams.whereConditions=whereConditions;K.kreports.grpwthsum.store.load();},bS:function(){var bk=new Array();for(var i=0;i<K.kreports.grpwthsum.grid.columns.length;i++){bk[i]=new Object({sequence:i+1,dataIndex:K.kreports.grpwthsum.grid.columns[i].dataIndex,width:K.kreports.grpwthsum.grid.columns[i].getWidth(),isHidden:K.kreports.grpwthsum.grid.columns[i].isHidden(),sortState:K.kreports.grpwthsum.grid.columns[i].sortState,groupby:(K.kreports.grpwthsum.grid.getStore().groupers.items[0].property==K.kreports.grpwthsum.grid.columns[i].dataIndex?true:false)})}return bk;},tools:[{type:'save',hidden:(accessLevel>0?false:true),handler:function(){Ext.Ajax.request({url:'index.php?module=KReports&to_pdf=true&action=save_standard_layout',params:{record:document.getElementById('recordid').value,layoutparams:Ext.JSON.encode(K.kreports.grpwthsum.grid.bS())},success:function(){}});}}]}); 