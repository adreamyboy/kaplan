Ext.namespace('K.kreports.fusionchartspanel');K.kreports.fusionchartspanel.bQ=new Ext.data.Store({fields:['dimension','label'],data:[{'dimension':'111','label':bi('LBL_DIMENSION_111')},{'dimension':'10N','label':bi('LBL_DIMENSION_10N')},{'dimension':'221','label':bi('LBL_DIMENSION_221')},{'dimension':'21N','label':bi('LBL_DIMENSION_21N')},{'dimension':'220','label':bi('LBL_DIMENSION_220')}]});K.kreports.fusionchartspanel.aX=new Ext.data.Store({fields:['dimension','charttype','label'],data:[{'dimension':'111, 10N','charttype':'Area2D','label':bi('LBL_CHARTTYPE_AREA2D')},{'dimension':'221, 21N','charttype':'MSColumn2D','label':bi('LBL_CHARTTYPE_MSCOLUMN2D')},{'dimension':'221, 21N','charttype':'MSColumn3D','label':bi('LBL_CHARTTYPE_MSCOLUMN3D')},{'dimension':'221, 21N','charttype':'MSLine','label':bi('LBL_CHARTTYPE_MSLINE')},{'dimension':'221, 21N','charttype':'MSArea','label':bi('LBL_CHARTTYPE_MSAREA')},{'dimension':'221, 21N','charttype':'StackedArea2D','label':bi('LBL_CHARTTYPE_STACKEDAREA2D')},{'dimension':'221, 21N','charttype':'MSBar2D','label':bi('LBL_CHARTTYPE_MSBAR2D')},{'dimension':'221, 21N','charttype':'MSBar3D','label':bi('LBL_CHARTTYPE_STACKEDBAR3D')},{'dimension':'221, 21N','charttype':'StackedBar2D','label':bi('LBL_CHARTTYPE_STACKEDBAR2D')},{'dimension':'21N','charttype':'MSCombiDY2D','label':bi('LBL_CHARTTYPE_MSCOMBIDY2D')},{'dimension':'221, 21N','charttype':'StackedBar3D','label':bi('LBL_CHARTTYPE_MSBAR3D')},{'dimension':'221, 21N','charttype':'Marimekko','label':bi('LBL_CHARTTYPE_MARIMEKKO')},{'dimension':'221, 21N','charttype':'StackedColumn2D','label':bi('LBL_CHARTTYPE_STACKEDCOLUMN2D')},{'dimension':'221, 21N','charttype':'StackedColumn3D','label':bi('LBL_CHARTTYPE_STACKEDCOLUMN3D')},{'dimension':'111, 10N','charttype':'Bar2D','label':bi('LBL_CHARTTYPE_BAR2D')},{'dimension':'111, 10N','charttype':'Column2D','label':bi('LBL_CHARTTYPE_COLUMN2D')},{'dimension':'111, 10N','charttype':'Column3D','label':bi('LBL_CHARTTYPE_COLUMN3D')},{'dimension':'111, 10N','charttype':'Line','label':bi('LBL_CHARTTYPE_LINE')},{'dimension':'111, 10N','charttype':'Pie2D','label':bi('LBL_CHARTTYPE_PIE2D')},{'dimension':'111, 10N','charttype':'Pie3D','label':bi('LBL_CHARTTYPE_PIE3D')},{'dimension':'111, 10N','charttype':'Doughnut2D','label':bi('LBL_CHARTTYPE_DOUGNUT2D')},{'dimension':'111, 10N','charttype':'Doughnut3D','label':bi('LBL_CHARTTYPE_DOUGNUT3D')},{'dimension':'111, 10N','charttype':'Pareto2D','label':bi('LBL_CHARTTYPE_PARETO2D')},{'dimension':'111, 10N','charttype':'Pareto3D','label':bi('LBL_CHARTTYPE_PARETO3D')}]});K.kreports.fusionchartspanel.ah=new Ext.form.field.ComboBox({fieldLabel:bi('LBL_DIMENSIONS'),store:K.kreports.fusionchartspanel.bQ,queryMode:'local',editable:false,displayField:'label',valueField:'dimension',listeners:{select:function(thisCombo){K.kreports.fusionchartspanel.aX.clearFilter();K.kreports.fusionchartspanel.aX.filter('dimension',new RegExp(thisCombo.getValue()));if(K.kreports.fusionchartspanel.bO.getValue()!=''&&K.kreports.fusionchartspanel.aX.count()>0){if(K.kreports.fusionchartspanel.aX.findRecord('charttype',K.kreports.fusionchartspanel.bO.getValue())==null){K.kreports.fusionchartspanel.bO.enable();K.kreports.fusionchartspanel.bO.setValue(K.kreports.fusionchartspanel.aX.getAt(0).get('charttype'));}}else if(K.kreports.fusionchartspanel.aX.count()>0){K.kreports.fusionchartspanel.bO.enable();K.kreports.fusionchartspanel.bO.setValue(K.kreports.fusionchartspanel.aX.getAt(0).get('charttype'));}else{K.kreports.fusionchartspanel.bO.disable();K.kreports.fusionchartspanel.bO.setValue();}this.showDimensionsCombos(parseInt(thisCombo.getValue().substr(1,1)));this.switchDataSeriesPanel(thisCombo.getValue().substr(2,1));}},setInitialValue:function(value){this.setValue(value);this.fireEvent('select',this);},showDimensionsCombos:function(count){for(var i=1;i<=3;i++){if(i<=count)eval('K.kreports.fusionchartspanel.dimension'+i+'Combo.show();');else eval('K.kreports.fusionchartspanel.dimension'+i+'Combo.hide();');}},switchDataSeriesPanel:function(value){switch(value){case '1':K.kreports.fusionchartspanel.ar.show();K.kreports.fusionchartspanel.dataserfunCombo.show();K.kreports.fusionchartspanel.aO.hide();break;case 'N':K.kreports.fusionchartspanel.ar.hide();K.kreports.fusionchartspanel.dataserfunCombo.hide();K.kreports.fusionchartspanel.aO.show();if(K.kreports.fusionchartspanel.bO.getValue()!=''){K.kreports.fusionchartspanel.bL.clearFilter();K.kreports.fusionchartspanel.bL.filter('charttype',new RegExp('all|'+K.kreports.fusionchartspanel.bO.getValue()));}break;}}});K.kreports.fusionchartspanel.bO=new Ext.form.field.ComboBox({fieldLabel:bi('LBL_CHARTTYPES'),store:K.kreports.fusionchartspanel.aX,value:'',queryMode:'local',editable:false,displayField:'label',valueField:'charttype',listeners:{select:function(thisCombo){K.kreports.fusionchartspanel.bL.clearFilter();K.kreports.fusionchartspanel.bL.filter('charttype',new RegExp('all|'+thisCombo.getValue()));}}});K.kreports.fusionchartspanel.dimension1Combo=new Ext.form.field.ComboBox({typeAhead:true,editable:false,border:1,fieldLabel:bi('LBL_CHARTTYPE_DIMENSION1'),triggerAction:'all',lazyRender:true,queryMode:'local',store:listGridStore,valueField:'fieldid',displayField:'name',listeners:{select:function(thisCombo){}}});K.kreports.fusionchartspanel.dimension2Combo=new Ext.form.field.ComboBox({typeAhead:true,editable:false,hidden:true,border:true,fieldLabel:bi('LBL_CHARTTYPE_DIMENSION2'),triggerAction:'all',lazyRender:true,queryMode:'local',store:listGridStore,valueField:'fieldid',displayField:'name',listeners:{select:function(thisCombo){}}});K.kreports.fusionchartspanel.dimension3Combo=new Ext.form.field.ComboBox({typeAhead:true,editable:false,hidden:true,border:true,fieldLabel:bi('LBL_CHARTTYPE_DIMENSION3'),triggerAction:'all',lazyRender:true,queryMode:'local',store:listGridStore,valueField:'fieldid',displayField:'name',listeners:{select:function(thisCombo){}}});K.kreports.fusionchartspanel.bp=new Ext.form.field.ComboBox({typeAhead:true,editable:false,border:1,fieldLabel:bi('LBL_CHARTTYPE_MULTIPLIER'),triggerAction:'all',lazyRender:true,queryMode:'local',store:listGridStore,valueField:'fieldid',displayField:'name',disabled:true});K.kreports.fusionchartspanel.ar=new Ext.form.field.ComboBox({typeAhead:true,editable:false,border:1,fieldLabel:bi('LBL_CHARTTYPE_DATASERIES'),triggerAction:'all',lazyRender:true,queryMode:'local',store:listGridStore,valueField:'fieldid',displayField:'name',listeners:{select:function(thisCombo){}}});K.kreports.fusionchartspanel.dataserfunCombo=new Ext.form.ComboBox({fieldLanel:bi('LBL_CHARTFUNCTION'),typeAhead:true,triggerAction:'all',lazyRender:true,mode:'local',store:new Ext.data.ArrayStore({id:0,fields:['value','text'],data:[['-','-'],['SUM',bi('LBL_FUNCTION_SUM')],['AVG',bi('LBL_FUNCTION_AVG')],['CUMSUM',bi('LBL_FUNCTION_CUMSUM')],['COUNT',bi('LBL_FUNCTION_COUNT')],['MAX',bi('LBL_FUNCTION_MAX')],['MIN',bi('LBL_FUNCTION_MIN')]]}),valueField:'value',displayField:'text'});K.kreports.fusionchartspanel.bB=new Ext.grid.Panel({store:listGridStore,scroll:'vertical',width:155,columns:[{id:'columname',text:bi('LBL_NAME'),dataIndex:'name',sortable:false,width:150}],viewConfig:{stripeRows:true,forcefit:true,plugins:{dragGroup:'dataSeriesListFields',ptype:'gridviewdragdrop',enableDrop:false}}});Ext.define('K.kreports.fusionchartspanel.bT',{extend:'Ext.data.Model',fields:[{name:'fieldid',type:'string'},{name:'name',type:'string'},{name:'chartfunction',type:'string'},{name:'meaning',type:'string'},{name:'axis',type:'string'},{name:'renderer',type:'string'}]});K.kreports.fusionchartspanel.bL=new Ext.data.Store({fields:['meaning','charttype'],data:[{'meaning':'value','charttype':'all'},{'meaning':'redFrom','charttype':'Gauge'},{'meaning':'yellowFrom','charttype':'Gauge'},{'meaning':'redTo','charttype':'Gauge'},{'meaning':'yellowTo','charttype':'Gauge'},{'meaning':'low','charttype':'Candlestick'},{'meaning':'opening','charttype':'Candlestick'},{'meaning':'closing','charttype':'Candlestick'},{'meaning':'high','charttype':'Candlestick'}]});K.kreports.fusionchartspanel.bF=new Ext.form.ComboBox({typeAhead:true,triggerAction:'all',lazyRender:true,mode:'local',store:K.kreports.fusionchartspanel.bL,valueField:'meaning',displayField:'meaning'}),K.kreports.fusionchartspanel.bv=new Ext.data.Store({model:K.kreports.fusionchartspanel.bT});K.kreports.fusionchartspanel.bb=new Ext.grid.Panel({store:K.kreports.fusionchartspanel.bv,flex:2,columns:[{text:bi('LBL_NAME'),dataIndex:'name',sortable:false,width:150},{text:bi('LBL_CHARTFUNCTION'),dataIndex:'chartfunction',sortable:false,width:70,editor:new Ext.form.ComboBox({typeAhead:true,triggerAction:'all',lazyRender:true,mode:'local',store:new Ext.data.ArrayStore({id:0,fields:['value','text'],data:[['-','-'],['SUM',bi('LBL_FUNCTION_SUM')],['AVG',bi('LBL_FUNCTION_AVG')],['CUMSUM',bi('LBL_FUNCTION_CUMSUM')],['COUNT',bi('LBL_FUNCTION_COUNT')],['MAX',bi('LBL_FUNCTION_MAX')],['MIN',bi('LBL_FUNCTION_MIN')]]}),valueField:'value',displayField:'text'}),renderer:function(value){if(value!=undefined&&value!='-')return bi('LBL_FUNCTION_'+value.toUpperCase());else return value;}},{text:bi('LBL_MEANING'),dataIndex:'meaning',sortable:false,width:70,editor:K.kreports.fusionchartspanel.bF},{text:bi('LBL_AXIS'),dataIndex:'axis',sortable:false,width:70,editor:new Ext.form.ComboBox({typeAhead:true,triggerAction:'all',lazyRender:true,mode:'local',store:new Ext.data.ArrayStore({id:0,fields:['value','text'],data:[['P',bi('LBL_CHARTAXIS_P')],['S',bi('LBL_CHARTAXIS_S')]]}),valueField:'value',displayField:'text'}),renderer:function(value){if(value!=undefined&&value!='')return bi('LBL_CHARTAXIS_'+value.toUpperCase());else return value;}},{text:bi('LBL_RENDERER'),dataIndex:'renderer',sortable:false,width:70,editor:new Ext.form.ComboBox({typeAhead:true,triggerAction:'all',lazyRender:true,mode:'local',store:new Ext.data.ArrayStore({id:0,fields:['value','text'],data:[['',bi('LBL_CHARTRENDER_DEFAULT')],['COLUMN',bi('LBL_CHARTRENDER_COLUMN')],['LINE',bi('LBL_CHARTRENDER_LINE')],['AREA',bi('LBL_CHARTRENDER_AREA')]]}),valueField:'value',displayField:'text'}),renderer:function(value){if(value!=undefined&&value!='')return bi('LBL_CHARTRENDER_'+value.toUpperCase());else return bi('LBL_CHARTRENDER_DEFAULT');}}],plugins:[Ext.create('Ext.grid.plugin.CellEditing',{clicksToEdit:1})],tbar:[{xtype:'button',id:'fusionseriesgriddeletebutton',text:bi('LBL_DELETE_BUTTON_LABEL'),icon:'modules/KReports/images/delete.png',handler:function(){var selectedRecords=K.kreports.fusionchartspanel.bb.getSelectionModel().getSelection();if(selectedRecords.length>0)K.kreports.fusionchartspanel.bb.getStore().remove(selectedRecords);}}],viewConfig:{plugins:{dropGroup:'dataSeriesListFields',dragGroup:'dataSeriesListFields',ptype:'gridviewdragdrop',enableDrop:true},listeners:{beforedrop:function(node,data,overModel,dropPosition,dropFunctions,eOpts){if(data.records[0].$className!='K.kreports.fusionchartspanel.bT'){for(var recordCounter=0;recordCounter<data.records.length;recordCounter++){var storeIndex=this.getStore().indexOf(overModel);if(dropPosition=='after')storeIndex++;if(storeIndex==this.getStore().count())this.getStore().add({fieldid:data.records[recordCounter].get('fieldid'),name:data.records[recordCounter].data.name,chartfunction:'SUM',meaning:'value'});else this.getStore().insert(storeIndex,{fieldid:data.records[recordCounter].get('fieldid'),name:data.records[recordCounter].data.name,chartfunction:'SUM',meaning:'value'});}dropFunctions.cancelDrop();return true;}}}}});K.kreports.fusionchartspanel.aO=new Ext.panel.Panel({layout:{type:'hbox',align:'stretch'},height:200,items:[K.kreports.fusionchartspanel.bB,K.kreports.fusionchartspanel.bb]});Ext.define('K.kreports.fusionchartspanel.colorModel',{extend:'Ext.data.Model',fields:[{name:'id',type:'string'},{name:'name',type:'string'},{name:'colors',type:'string'}]}),K.kreports.fusionchartspanel.ag=new Ext.data.Store({model:K.kreports.fusionchartspanel.colorModel,data:kreportavailablecolors});K.kreports.fusionchartspanel.ab=new Ext.form.field.ComboBox({store:K.kreports.fusionchartspanel.ag,valueField:'id',displayField:'name',typeAhead:false,width:170,labelWidth:70,editable:false,queryMode:'local',triggerAction:'all',selectOnFocus:true,value:'default',listeners:{select:function(thisCombo){K.kreports.fusionchartspanel.bn.updateColors();}}});K.kreports.fusionchartspanel.bn=new Ext.form.field.Display({updateColors:function(colorId){var colorId=K.kreports.fusionchartspanel.ab.getValue();if(colorId!=null){var colorArray=K.kreports.fusionchartspanel.ag.findRecord('id',colorId).get('colors').split('*');var colorString='';for(var i=0;i<colorArray.length;i++)colorString=colorString+'<div style="border:1px solid #ddd;float:left;margin-left:5px;width:16px;height:16px;background:'+colorArray[i]+'"></div>';K.kreports.fusionchartspanel.bn.setRawValue(colorString);}else K.kreports.fusionchartspanel.bn.setRawValue('');}});K.kreports.fusionchartspanel.aY=new Ext.panel.Panel({frame:false,bodyPadding:5,border:false,items:[{xtype:'fieldset',collapsible:false,title:bi('LBL_CHARTFS_DATA'),bodyPadding:5,items:[{xtype:'form',border:false,layout:'column',items:[{columnWidth:0.499,border:false,layout:'anchor',defaults:{anchor:'90%'},items:[K.kreports.fusionchartspanel.ah,{xtype:'fieldset',collapsible:false,style:{'border-bottom':'0px','border-left':'0px','border-right':'0px'},layout:'anchor',bodyPadding:0,defaults:{anchor:'100%'},title:bi('LBL_CHARTFS_SERIES'),items:[K.kreports.fusionchartspanel.dimension1Combo,K.kreports.fusionchartspanel.dimension2Combo,K.kreports.fusionchartspanel.dimension3Combo]}]},{columnWidth:0.499,border:false,layout:'anchor',defaults:{anchor:'90%'},items:[K.kreports.fusionchartspanel.bO,{xtype:'fieldset',collapsible:false,layout:'anchor',bodyPadding:0,defaults:{anchor:'100%'},style:{'border-bottom':'0px','border-left':'0px','border-right':'0px'},title:bi('LBL_CHARTFS_VALUES'),items:[K.kreports.fusionchartspanel.ar,K.kreports.fusionchartspanel.dataserfunCombo,K.kreports.fusionchartspanel.aO]}]}]},{xtype:'form',border:false,layout:'column',items:[{columnWidth:0.499,border:false,layout:'anchor',defaults:{anchor:'90%'},items:[K.kreports.fusionchartspanel.bp]},{columnWidth:0.499,border:false,layout:'anchor',defaults:{anchor:'90%'},items:[{xtype:'fieldcontainer',fieldLabel:bi('LBL_CHARTTYPE_COLORS'),layout:{type:'vbox',align:'stretch'},items:[K.kreports.fusionchartspanel.ab,K.kreports.fusionchartspanel.bn]}]}]}]},{xtype:'fieldset',defaultType:'textfield',title:bi('LBL_CHARTOPTIONS_FS'),collapsible:false,layout:'anchor',items:[{xtype:'form',border:false,layout:'column',items:[{xtype:'form',border:false,columnWidth:0.499,layout:'anchor',defaults:{anchor:'90%'},items:[{xtype:'textfield',id:'chartOptionsTitle',fieldLabel:bi('LBL_CHARTOPTIONS_TITLE')},{xtype:'textfield',id:'chartOptionsContext',fieldLabel:bi('LBL_CHARTOPTIONS_CONTEXT')},{xtype:'fieldcontainer',fieldLabel:bi('LBL_CHARTOPTIONS_VMINMAX'),layout:{type:'hbox',align:'stretch'},items:[{xtype:'numberfield',id:'chartOptionsVMin',flex:1,padding:'0 5 0 0'},{xtype:'numberfield',id:'chartOptionsVMax',flex:1,padding:'0 0 0 5'}]},{xtype:'fieldcontainer',fieldLabel:bi('LBL_CHARTOPTIONS_HMINMAX'),layout:{type:'hbox',align:'stretch'},items:[{xtype:'numberfield',id:'chartOptionsHMin',flex:1,padding:'0 5 0 0'},{xtype:'numberfield',id:'chartOptionsHMax',flex:1,padding:'0 0 0 5'}]},{xtype:'fieldcontainer',fieldLabel:bi('LBL_CHARTOPTIONS_GREEN'),layout:{type:'hbox',align:'stretch'},items:[{xtype:'numberfield',id:'chartOptionsGreenFrom',flex:1,padding:'0 5 0 0'},{xtype:'numberfield',id:'chartOptionsGreenTo',flex:1,padding:'0 0 0 5'}]},{xtype:'fieldcontainer',fieldLabel:bi('LBL_CHARTOPTIONS_YELLOW'),layout:{type:'hbox',align:'stretch'},items:[{xtype:'numberfield',id:'chartOptionsYellowFrom',flex:1,padding:'0 5 0 0'},{xtype:'numberfield',id:'chartOptionsYellowTo',flex:1,padding:'0 0 0 5'}]},{xtype:'fieldcontainer',fieldLabel:bi('LBL_CHARTOPTIONS_RED'),layout:{type:'hbox',align:'stretch'},items:[{xtype:'numberfield',id:'chartOptionsRedFrom',flex:1,padding:'0 5 0 0'},{xtype:'numberfield',id:'chartOptionsRedTo',flex:1,padding:'0 0 0 5'}]}]},{xtype:'form',border:false,columnWidth:0.499,layout:'anchor',defaults:{anchor:'90%'},items:[{columns:2,xtype:'checkboxgroup',id:'chartOptionsCheckBoxGroup',items:[{boxLabel:bi('LBL_CHARTOPTIONS_LEGEND'),name:'legend'},{boxLabel:bi('LBL_CHARTOPTIONS_EMTPY'),name:'emptyvalues'},{boxLabel:bi('LBL_CHARTOPTIONS_NOVLABLES'),name:'novlabels'},{boxLabel:bi('LBL_CHARTOPTIONS_NOHLABLES'),name:'nohlabels'},{boxLabel:bi('LBL_CHARTOPTIONS_LOGV'),name:'logv'},{boxLabel:bi('LBL_CHARTOPTIONS_LOGH'),name:'logh'},{boxLabel:bi('LBL_CHARTOPTIONS_ROUNDEDGES'),name:'useRoundEdges'},{boxLabel:bi('LBL_CHARTOPTIONS_HIDELABELS'),name:'hideLabels'},{boxLabel:bi('LBL_CHARTOPTIONS_HIDEVALUES'),name:'hideValues'},{boxLabel:bi('LBL_CHARTOPTIONS_FORMATNUMBERSCALE'),name:'formatNumberScale'},{boxLabel:bi('LBL_CHARTOPTIONS_ROTATEVALUES'),name:'rotateValues'},{boxLabel:bi('LBL_CHARTOPTIONS_PLACEVALUESINSIDE'),name:'placeValuesInside'},{boxLabel:bi('LBL_CHARTOPTIONS_SHOWSHADOE'),name:'showShadow'}]}]}]}]}]});K.kreports.fusionchartspanel.panel=new Ext.panel.Panel({layout:'fit',height:400,border:false,aZ:new Object(),al:0,items:[K.kreports.fusionchartspanel.aY],setPanelData:function(aZ){this.aZ=aZ;if(this.aZ.dims!=undefined){K.kreports.fusionchartspanel.ah.setValue(this.aZ.dims);K.kreports.fusionchartspanel.bO.setValue(this.aZ.type);K.kreports.fusionchartspanel.dimension1Combo.setValue(this.aZ.dimensions.dimension1);K.kreports.fusionchartspanel.dimension2Combo.setValue(this.aZ.dimensions.dimension2);K.kreports.fusionchartspanel.dimension3Combo.setValue(this.aZ.dimensions.dimension3);K.kreports.fusionchartspanel.bp.setValue(this.aZ.multiplier);switch(this.aZ.dims.substr(2,1)){case '1':K.kreports.fusionchartspanel.ar.setValue(this.aZ.dataseries[0].fieldid);K.kreports.fusionchartspanel.dataserfunCombo.setValue(this.aZ.dataseries[0].chartfunction);break;case 'N':K.kreports.fusionchartspanel.bv.removeAll();for(var i=0;i<this.aZ.dataseries.length;i++)K.kreports.fusionchartspanel.bv.add(this.aZ.dataseries[i]);break;}Ext.getCmp('chartOptionsTitle').setValue(this.aZ.title);Ext.getCmp('chartOptionsContext').setValue(this.aZ.context);}else{K.kreports.fusionchartspanel.bO.clearValue();K.kreports.fusionchartspanel.dimension1Combo.clearValue();K.kreports.fusionchartspanel.dimension2Combo.clearValue();K.kreports.fusionchartspanel.dimension3Combo.clearValue();K.kreports.fusionchartspanel.bp.clearValue();K.kreports.fusionchartspanel.ar.clearValue();K.kreports.fusionchartspanel.dataserfunCombo.clearValue();Ext.getCmp('chartOptionsTitle').setValue();Ext.getCmp('chartOptionsContext').setValue();K.kreports.fusionchartspanel.bv.removeAll();K.kreports.fusionchartspanel.ah.setValue('111');}if(this.aZ.options!=undefined)Ext.getCmp('chartOptionsCheckBoxGroup').setValue(this.aZ.options);else Ext.getCmp('chartOptionsCheckBoxGroup').setValue();if(this.aZ.minmax!=undefined){Ext.getCmp('chartOptionsVMin').setValue(this.aZ.minmax.vmin);Ext.getCmp('chartOptionsVMax').setValue(this.aZ.minmax.vmax);Ext.getCmp('chartOptionsHMin').setValue(this.aZ.minmax.hmin);Ext.getCmp('chartOptionsHMax').setValue(this.aZ.minmax.hmax);Ext.getCmp('chartOptionsGreenFrom').setValue(this.aZ.minmax.gfrom);Ext.getCmp('chartOptionsGreenTo').setValue(this.aZ.minmax.gto);Ext.getCmp('chartOptionsYellowFrom').setValue(this.aZ.minmax.yfrom);Ext.getCmp('chartOptionsYellowTo').setValue(this.aZ.minmax.yto);Ext.getCmp('chartOptionsRedFrom').setValue(this.aZ.minmax.rfrom);Ext.getCmp('chartOptionsRedTo').setValue(this.aZ.minmax.rto);}else{Ext.getCmp('chartOptionsVMin').setValue();Ext.getCmp('chartOptionsVMax').setValue();Ext.getCmp('chartOptionsHMin').setValue();Ext.getCmp('chartOptionsHMax').setValue();Ext.getCmp('chartOptionsGreenFrom').setValue();Ext.getCmp('chartOptionsGreenTo').setValue();Ext.getCmp('chartOptionsYellowFrom').setValue();Ext.getCmp('chartOptionsYellowTo').setValue();Ext.getCmp('chartOptionsRedFrom').setValue();Ext.getCmp('chartOptionsRedTo').setValue();}if(this.aZ.colors!=undefined)K.kreports.fusionchartspanel.ab.setValue(this.aZ.colors);else K.kreports.fusionchartspanel.ab.setValue('default');K.kreports.fusionchartspanel.ah.fireEvent('select',K.kreports.fusionchartspanel.ah);K.kreports.fusionchartspanel.bn.updateColors();},getPanelData:function(){if(this.aZ.uid==undefined)this.aZ.uid=kGuid();this.aZ.dims=K.kreports.fusionchartspanel.ah.getValue();this.aZ.type=K.kreports.fusionchartspanel.bO.getValue();this.aZ.dimensions={dimension1:K.kreports.fusionchartspanel.dimension1Combo.getValue(),dimension2:K.kreports.fusionchartspanel.dimension2Combo.getValue(),dimension3:K.kreports.fusionchartspanel.dimension3Combo.getValue()};this.aZ.multiplier=K.kreports.fusionchartspanel.bp.getValue();this.aZ.dataseries=new Array();switch(K.kreports.fusionchartspanel.ah.getValue().substr(2,1)){case '1':if(K.kreports.fusionchartspanel.ar.getValue()!=null)this.aZ.dataseries.push({fieldid:K.kreports.fusionchartspanel.ar.getValue(),name:listGridStore.findRecord('fieldid',K.kreports.fusionchartspanel.ar.getValue()).get('name'),chartfunction:K.kreports.fusionchartspanel.dataserfunCombo.getValue(),meaning:'value',axis:'P',renderer:'bars'});break;case 'N':for(var i=0;i<K.kreports.fusionchartspanel.bv.count();i++)this.aZ.dataseries.push(K.kreports.fusionchartspanel.bv.data.items[i].data);break;}this.aZ.options=Ext.getCmp('chartOptionsCheckBoxGroup').getValue();this.aZ.title=Ext.getCmp('chartOptionsTitle').getValue();this.aZ.context=Ext.getCmp('chartOptionsContext').getValue();this.aZ.minmax=new Object({vmin:Ext.getCmp('chartOptionsVMin').getValue(),vmax:Ext.getCmp('chartOptionsVMax').getValue(),hmin:Ext.getCmp('chartOptionsHMin').getValue(),hmax:Ext.getCmp('chartOptionsHMax').getValue(),gfrom:Ext.getCmp('chartOptionsGreenFrom').getValue(),gto:Ext.getCmp('chartOptionsGreenTo').getValue(),yfrom:Ext.getCmp('chartOptionsYellowFrom').getValue(),yto:Ext.getCmp('chartOptionsYellowTo').getValue(),rfrom:Ext.getCmp('chartOptionsRedFrom').getValue(),rto:Ext.getCmp('chartOptionsRedTo').getValue()});this.aZ.colors=K.kreports.fusionchartspanel.ab.getValue();return this.aZ;}}); 