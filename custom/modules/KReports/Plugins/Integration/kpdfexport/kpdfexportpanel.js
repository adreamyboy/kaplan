Ext.namespace('K.kreports.kpdfexport');Ext.define('K.kreports.kpdfexport.dropdownModel',{extend:'Ext.data.Model',fields:['fieldvalueid','fieldname']});K.kreports.kpdfexport.layoutStore=new Ext.data.Store({model:K.kreports.kpdfexport.dropdownModel,proxy:{type:'ajax',url:'index.php?module=KReports&action=pluginaction&plugin=kpdfexport&pluginaction=getPDFLayouts&to_pdf=true',reader:{type:'json'}}});K.kreports.kpdfexport.layoutStore.load();K.kreports.kpdfexport.layoutCombo=new Ext.form.field.ComboBox({typeAhead:false,forceSelection:true,fieldLabel:bi('LBL_PDF_LAYOUT'),value:'default',triggerAction:'all',lazyRender:true,queryMode:'local',store:K.kreports.kpdfexport.layoutStore,valueField:'fieldvalueid',displayField:'fieldname'});K.kreports.kpdfexport.formatStore=new Ext.data.ArrayStore({model:K.kreports.kpdfexport.dropdownModel,data:[['A2','A2'],['A3','A3'],['A4',bi('LBL_PDFFORMAT_A4')],['A5',bi('LBL_PDFFORMAT_A5')],['LETTER',bi('LBL_PDFFORMAT_LTR')],['LEGAL',bi('LBL_PDFFORMAT_LGL')]]});K.kreports.kpdfexport.formatCombo=new Ext.form.field.ComboBox({typeAhead:false,forceSelection:true,fieldLabel:bi('LBL_PDF_FORMAT'),value:'A4',triggerAction:'all',lazyRender:true,queryMode:'local',store:K.kreports.kpdfexport.formatStore,valueField:'fieldvalueid',displayField:'fieldname'});K.kreports.kpdfexport.orientationStore=new Ext.data.ArrayStore({model:K.kreports.kpdfexport.dropdownModel,data:[['P',bi('LBL_PDFORIENT_P')],['L',bi('LBL_PDFORIENT_L')]]});K.kreports.kpdfexport.orientationCombo=new Ext.form.field.ComboBox({typeAhead:false,forceSelection:true,fieldLabel:bi('LBL_PDF_ORIENTATION'),value:'P',triggerAction:'all',lazyRender:true,queryMode:'local',store:K.kreports.kpdfexport.orientationStore,valueField:'fieldvalueid',displayField:'fieldname'});K.kreports.kpdfexport.palignmentStore=new Ext.data.ArrayStore({model:K.kreports.kpdfexport.dropdownModel,data:[['L',bi('LBL_PDFPALIGNMENT_L')],['R',bi('LBL_PDFPALIGNMENT_R')],['C',bi('LBL_PDFPALIGNMENT_C')],['S',bi('LBL_PDFPALIGNMENT_S')]]});K.kreports.kpdfexport.palignmentCombo=new Ext.form.field.ComboBox({typeAhead:false,forceSelection:true,fieldLabel:bi('LBL_PDF_PALIGNMENT'),value:'L',triggerAction:'all',lazyRender:true,queryMode:'local',store:K.kreports.kpdfexport.palignmentStore,valueField:'fieldvalueid',displayField:'fieldname'});K.kreports.kpdfexport.exportPanel=new Ext.panel.Panel({pluginid:'kpdfexport',bodyPadding:5,title:bi('LBL_PDF_EXPORT'),items:[{xtype:'fieldset',title:bi('LBL_PDF_EXPORTOPTIONS_GENERAL'),collapsible:false,defaults:{anchor:'-10'},items:[K.kreports.kpdfexport.layoutCombo,K.kreports.kpdfexport.formatCombo,K.kreports.kpdfexport.orientationCombo,K.kreports.kpdfexport.palignmentCombo,{xtype:'checkbox',id:'kpdfexportmultiline',fieldLabel:bi('LBL_PDF_MULTILINE')},{xtype:'checkbox',id:'kpdfexportchartsonseparatepage',fieldLabel:bi('LBL_PDF_CHARTSONSEPARATEPAGE')},{xtype:'checkbox',id:'kpdfexportnewpagepergroup',fieldLabel:bi('LBL_PDF_NEWPAGEPERGROUP')},{xtype:'checkbox',id:'kpdfexportheaderperpage',fieldLabel:bi('LBL_PDF_HEADERPERPAGE')}]}],setPanelData:function(pluginParams){K.kreports.kpdfexport.layoutCombo.setValue(pluginParams.pdf_layout);K.kreports.kpdfexport.formatCombo.setValue(pluginParams.pdf_format);K.kreports.kpdfexport.orientationCombo.setValue(pluginParams.pdf_orientation);K.kreports.kpdfexport.palignmentCombo.setValue(pluginParams.pdf_palignment);Ext.getCmp('kpdfexportmultiline').setValue(pluginParams.pdf_multicell);Ext.getCmp('kpdfexportnewpagepergroup').setValue(pluginParams.pdf_newpagepergroup);Ext.getCmp('kpdfexportheaderperpage').setValue(pluginParams.pdf_headerperpage);Ext.getCmp('kpdfexportchartsonseparatepage').setValue(pluginParams.pdf_chartpage);},getPanelData:function(){var panelData=new Object({pdf_layout:K.kreports.kpdfexport.layoutCombo.getValue(),pdf_format:K.kreports.kpdfexport.formatCombo.getValue(),pdf_orientation:K.kreports.kpdfexport.orientationCombo.getValue(),pdf_palignment:K.kreports.kpdfexport.palignmentCombo.getValue(),pdf_multicell:Ext.getCmp('kpdfexportmultiline').getValue(),pdf_newpagepergroup:Ext.getCmp('kpdfexportnewpagepergroup').getValue(),pdf_headerperpage:Ext.getCmp('kpdfexportheaderperpage').getValue(),pdf_chartpage:Ext.getCmp('kpdfexportchartsonseparatepage').getValue()});return panelData;}}); 